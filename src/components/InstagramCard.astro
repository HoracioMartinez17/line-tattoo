---
const { media_url, caption, username, like_count, comments_count, profile_picture_url, timestamp } = Astro.props;
const width= 320;
const height= 320;
---

<div class="card">
    <div class="top">
        <div class="userDeatils">
            <div class="profileImg">
                <img src={profile_picture_url} alt="user" class="cover">
            </div>
            <h3>{username}</h3>
        </div>
    </div>
    <figure class="card-banner img-holder" style={`--width: ${width}; --height: ${height}`}>
        <img src={media_url} 
        width={width}
        height={height}
        loading="lazy" 
        class="img-cover">
    </figure>
    <div class="btns">
        <div class="left">
            <img src="/heart.webp" alt="heart" class="heart">
            <img src="/comment.webp" alt="comment">
            <img src="/share.webp" alt="share">
        </div>
        <div class="right">
            <img src="/bookmark.webp" alt="bookmark">
        </div>
    </div>
    <h4 class="likes">{like_count} likes</h4>
        <h4 class="message">
            <b>{username}:</b> {caption.slice(0, 80)}...
        </h4>

    <h4 class="comments">{comments_count} comments</h4>
    <h5 class="postTime">{timestamp.slice(0, 10).split('T')[0]}</h5>
</div>



<style>

.card{
    position: relative;
    max-width: 100%;
    min-height: 400px;
    background: #fff;
    box-shadow: 15px 15px 60px rgba(0, 0, 0, .15);
    padding: 20px;
}
.card .top{
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.card .top .userDeatils{
    display: flex;
    align-items: center;
}
.card .top .userDeatils .profileImg{
    position: relative;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    margin-right: 8px;
    overflow: hidden;
    margin-block-end: 10px;
}

.card .top .userDeatils h3{
    font-size: 1.6rem;
    color: #4d4d4f;
    font-weight: 700;
    line-height: 1rem;
    cursor: pointer;
}
.card .top .userDeatils span{
    font-size: 0.75em;
}
.card .top .dot{
    transform: scale(0.6);
    cursor: pointer;
}
.imgBg{
    padding-block-end: 15px ;
}
.btns{
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.btns img{
    max-width: 24px;
    cursor: pointer;
    margin-block-start: 15px ;
}
.btns .left img{
    display: flex;
    margin-right: 8px;
}
.btns .left {
    display: flex;
}

.cover{
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    cursor: pointer;
}
.likes{
    margin-top: 5px;
    font-size: 1em;
    color: #4d4d4f;
}
.h4-content{
    width: 90%;
}
.message{
    font-weight: 400;
    margin-top: 5px;
    color: #777;
    line-height: 1.3em;
    overflow-wrap: break-word;
    word-break: break-word;
    max-width: 350px;
}
.message b{
    color: #262626;
}
.message span{
    color: #1d92ff;
    cursor: pointer;
}
.comments{
    margin-top: 10px;
    align-items: center;
    color: #999;
}
.addComments{
    display: flex;
    align-items: center;
    margin-top: 10px;
}
.addComments .userImg{
    position: relative;
    min-width: 30px;
    height: 30px;
    border-radius: 50%;
    overflow: hidden;
    margin-right: 8px;
}
.addComments .text{
    width: 100%;
    border: none;
    outline: none;
    font-weight: 400;
    font-size: 18px;
    color: #262626;
}
.addComments .text::placeholder{
    color: #777;
}
.postTime{
    margin-top: 10px;
    font-weight: 500;
    color: #777;
}


@media (min-width: 768px) {

    .card{
    max-width: 350px;
    min-height: 200px;
}
.message{
    line-height: 1.5em;
    min-width: 368px;
    text-indent: 1em each-line;
    text-wrap: balance;
}
.card .top .userDeatils h3{
    font-size: 18px;
}
.card .top .userDeatils .profileImg{
    position: relative;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    margin-right: 8px;
    overflow: hidden;
}
}

</style>